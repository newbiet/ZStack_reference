# 创建云主机
> **场景**是指在`多种条件`下对`某个行为`的`预期结果`的描述

* 条件：
    > * 如主存储、物理机、网络等资源的具体类型
    > * 资源的可用性，如：已挂载，使用权限，容量,enable等
    > * 行为的执行顺序，如：第1次和第n次的同一个行为会有区别，可能是背后依赖资源已发生变化，导致结果发生改变。（最好能写明）
    > * 由UI设定的默认逻辑，如：systemtag等关联关系，需要写明表现的预期结果。
    > * 用户输入限制，如：字符限制，注入攻击
    > * 已知系统占用资源，如：reserve资源，DHCP服务IP
    
* 行为：
    > * 通常指用户的一个操作
    > * 也可能是系统行为，如：监控报警，自动迁移等
  
      
* 预期结果
    > * 一个行为可能产生多个影响，预期结果中应该全部给出
    > * 后端对逻辑删除，数据库删除，物理删除最好写明
    > * 前端给出UI表现，如：返回成功，但需要重启生效，未实例化等

### 场景描述

1.第一次在LocalStorage类型的主存储中创建云主机时，创建速度较慢。（admin）
> 

2.物理机可用资源不满足云主机计算规格时，创建云主机失败。（admin/account/user）

3.主存储可用容量不满足云主机计算规格时，创建云主机失败。（admin/account/user）

4.物理机所在集群未加载主存储或主存储为不可用状态时，创建云主机失败。

5.用户无创建云主机权限时，创建云主机失败。

6.物理机所在zone未加载镜像服务器或镜像服务器与主存储类型不匹配时，创建云主机失败。

7.新建云主机添加方式有两种单个添加和批量添加，批量添加时只填写一个名称，按照-1，-2...自动命名

8.创建云主机失败时请首先检查首页内存时候充足。

9.创建云主机界面存在高级选项，默认情况下创建后自动启动云主机。

10.首次创建云主机的前提条件，需要添加物理机，添加主存储，镜像服务器，计算规格，镜像文件，二层网络，三层网络。

11.根据云主机选择的主存储类型不同可以创建：nfs，本地存储，ceph等不同存储类型的云主机。

